<?xml version='1.0' encoding='UTF-8'?>
<pdp:deployPolicyRequest xmlns:pdp="http://www.iese.fhg.de/esf/1.0/pdp/ws/schema"

  xmlns="http://www.iese.fhg.de/esf/1.0/pdp/ws/schema"
  xmlns:tns="http://www.iese.fhg.de/esf/1.0/pdp/ws/schema"
  xmlns:a="http://www.iese.fhg.de/esf/1.0/action" 
  xmlns:e="http://www.iese.fhg.de/esf/1.0/event"
  xmlns:mc="http://www.master-fp7.eu/mcalculus.xsd"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="
    http://www.iese.fhg.de/esf/1.0/enforcementLanguage enforcementLanguage-FhG.xsd
    http://www.iese.fhg.de/esf/1.0/action action-FhG.xsd
    http://www.iese.fhg.de/esf/1.0/event event-FhG.xsd
    http://www.master-fp7.eu/mcalculus.xsd mcalculus.xsd"

>
<pdp:deploymentTime>20101118T10:00</pdp:deploymentTime>
<policy:enforcementAssertion xmlns:policy="http://MASTER/policySchemas">
<preventiveMechanism xmlns="http://www.iese.fhg.de/esf/1.0/enforcementLanguage" name="BlockTimeout">
    <description>Block timeout alarm when an ACK was received</description>
    <timestep amount="1" unit="MINUTES" />
    <trigger action="message" index="ALL" isTry="false">
      <e:paramMatch xmlns:e="http://www.iese.fhg.de/esf/1.0/event" isXPath="false" name="operation" value="timeout" />
    </trigger>
    <condition>
      <not>
        <always>
          <not>
            <eventMatch action="message" index="ALL" isTry="false">
              <e:paramMatch xmlns:e="http://www.iese.fhg.de/esf/1.0/event" isXPath="false" name="operation" value="ACK" />
            </eventMatch>
          </not>
        </always>
      </not>
    </condition>
    <authorizationAction>
      <inhibit />
    </authorizationAction>
  </preventiveMechanism><preventiveMechanism xmlns="http://www.iese.fhg.de/esf/1.0/enforcementLanguage" name="BlockAfterAlarm">
    <description>
      Blocks all Messages from Agency and invokes Penalization service
    </description>
    <timestep amount="1" unit="MINUTES" />
    <trigger action="message" index="ALL" isTry="false">
      <e:paramMatch xmlns:e="http://www.iese.fhg.de/esf/1.0/event" isXPath="false" name="source" value="Agency" />
    </trigger>
    <condition>
      <not>
        <always>
          <not>
            <eventMatch action="message" index="ALL" isTry="false">
              <e:paramMatch xmlns:e="http://www.iese.fhg.de/esf/1.0/event" isXPath="false" name="operation" value="timeout" />
            </eventMatch>
          </not>
        </always>
      </not>
    </condition>
    <authorizationAction>
      <inhibit />
    </authorizationAction>
    <action name="penalize">
      <a:parameter xmlns:a="http://www.iese.fhg.de/esf/1.0/action" isXPath="false" name="par1" value="blockAgency" />
    </action>
  </preventiveMechanism></policy:enforcementAssertion></pdp:deployPolicyRequest>